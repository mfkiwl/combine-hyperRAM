


ARM Macro Assembler    Page 1 


    1 00000000         #line   1                "..\\Src\\rho.s"
    1 00000000         ; 
    2 00000000         ;
    3 00000000         #line   12               "..\\Src\\rho.s"
   12 00000000         
   13 00000000         ; 
   14 00000000         #line   21               "..\\Src\\rho.s"
   21 00000000         
   22 00000000                 area             rho, code, readonly
   23 00000000                 entry
   24 00000000         
   25 00000000         ; 
   26 00000000 0000000A 
                       CAMERA_PORT
                               equ              0x0000000a  ; 
   27 00000000 20000000 
                       sram    equ              0x20000000
   28 00000000 20000000 
                       Dx      equ              sram
   29 00000000 20000280 
                       Dy      equ              Dx  + 640
   30 00000000 20000410 
                       Q       equ              Dy  + 400
   31 00000000 20000420 
                       QT      equ              Q   + 16
   32 00000000 20000424 
                       QP_ADDR equ              QT  + 4
   33 00000000 20000428 
                       Ce      equ              QP_ADDR + 4 ; 
   34 00000000 2000042C 
                       Cf      equ              Ce  + 4     ; 
   35 00000000 20000E2C 
                       Cm      equ              Cf  + 2560  ; 
   36 00000000 20000E2C 
                       Cx      equ              Cm
   37 00000000 20000284 
                       Cy      equ              Dy  + 4
   38 00000000 20000288 
                       THRESH_ADDR
                               equ              Cy + 4
   39 00000000 2000028C 
                       Ym      equ              THRESH_ADDR + 4
   40 00000000         
   41 00000000                 align
   42 00000000         rho_init
                               proc
   43 00000000                 export           rho_init
   44 00000000 4770            bx               lr
   45 00000002                 endp
   46 00000002         
   47 00000002 00 00           align
   48 00000004         frame_start
                               proc
   49 00000004                 export           frame_start
   50 00000004         
   51 00000004 F04F 5000       ldr              r0, =Dx     ; 
   52 00000008 F04F 0100       mov              r1, #0
   53 0000000C 4A4C            ldr              r2, =Cm
   54 0000000E F840 1B04 



ARM Macro Assembler    Page 2 


                       zero    str              r1, [r0], #4
   55 00000012 4290            cmp              r0, r2
   56 00000014 DBFB            blt              zero
   57 00000016 4F4B            ldr              r7, =Cf     ; 
   58 00000018 F8DF 8128       ldr              r8, =Cf     ; 
   59 0000001C 4D4A            ldr              r5, =THRESH_ADDR ; 
   60 0000001E F04F 0600       mov              r6, #0      ; 
   61 00000022 F04F 0901       mov              r9, #1
   62 00000026 E7FE            b                rho_process ; 
   63 00000028 4770            bx               lr
   64 0000002A                 endp
   65 0000002A         
   66 0000002A 00 00           align
   67 0000002C         asm_test
                               proc
   68 0000002C                 export           asm_test
   69 0000002C 4847            ldr              r0, =Q
   70 0000002E F04F 0101       mov              r1, #1
   71 00000032 F840 1B04       str              r1, [r0], #4
   72 00000036 F101 0101       add              r1, #1
   73 0000003A F840 1B04       str              r1, [r0], #4
   74 0000003E F101 0101       add              r1, #1
   75 00000042 F840 1B04       str              r1, [r0], #4
   76 00000046 F101 0101       add              r1, #1
   77 0000004A 6001            str              r1, [r0]
   78 0000004C 4770            bx               lr
   79 0000004E                 endp
   80 0000004E         
   81 0000004E 00 00           align
   82 00000050         frame_end
                               proc
   83 00000050                 export           frame_end
   84 00000050 483F            ldr              r0, =Ce
   85 00000052 6007            str              r7, [r0]
   86 00000054 483D            ldr              r0, =Q      ; 
   87 00000056 F850 2B04       ldr              r2, [r0], #4 ; 
   88 0000005A F850 1B04       ldr              r1, [r0], #4
   89 0000005E 440A            add              r2, r2, r1
   90 00000060 F850 1B04       ldr              r1, [r0], #4
   91 00000064 440A            add              r2, r2, r1
   92 00000066 6801            ldr              r1, [r0]
   93 00000068 440A            add              r2, r2, r1
   94 0000006A 483A            ldr              r0, =QT
   95 0000006C 6002            str              r2, [r0]
   96 0000006E 4770            bx               lr
   97 00000070                 endp
   98 00000070         
   99 00000070                 align
  100 00000070         row_int proc
  101 00000070                 export           row_int
  102 00000070 F04F 00AA       mov              r0, #0xaa
  103 00000074 6038            str              r0, [r7]    ; 
  104 00000076 F107 0701       add              r7, r7, #1
  105 0000007A F016 0F01       tst              r6, #1      ; 
  106 0000007E D102            bne              rg_row
  107 00000080 F109 0901       add              r9, r9, #1  ; 
  108 00000084 E001            b                x_reset
  109 00000086 F1A9 0901 
                       rg_row  sub              r9, r9, #1  ; 



ARM Macro Assembler    Page 3 


  110 0000008A F44F 7420 
                       x_reset mov              r4, #640    ; 
  111 0000008E F086 0601       eor              r6, r6, #1  ; 
  112 00000092 4770            bx               lr
  113 00000094                 endp
  114 00000094         
  115 00000094                 align
  116 00000094         pclk_int
                               proc
  117 00000094                 export           pclk_int
  118 00000094 F1A4 0401       sub              r4, r4, #1  ; 
  119 00000098 F859 3B01       ldr              r3, [r9], #1
  120 0000009C 42AB            cmp              r3, r5      ; 
  121 0000009E BFA8 F847 
              4B01             strge            r4, [r7], #1 ; 
  122 000000A4                 endp
  123 000000A4         
  124 000000A4                 align
  125 000000A4         rho_process
                               proc
  126 000000A4                 export           rho_process
  127 000000A4 F04F 0A00       mov              r10, #0     ; 
  128 000000A8 F04F 0B00       mov              r11, #0
  129 000000AC 45B8    read_loop
                               cmp              r8, r7      ; 
  130 000000AE D2FD            bcs              read_loop
  131 000000B0 F858 AB01       ldr              r10, [r8], #1 ; 
  132 000000B4 F04F 00AA       mov              r0, #0xaa
  133 000000B8 4582            cmp              r10, r0     ; 
  134 000000BA D125            bne              no_del
  135 000000BC 4826            ldr              r0, =Cy
  136 000000BE 4583            cmp              r11, r0     ; 
  137 000000C0 DA08            bge              higher
  138 000000C2 F00C 0CFD       and              r12, r12, #0xfd ; 
  139 000000C6 4821            ldr              r0, =Q      ; 
  140 000000C8 F850 1B04       ldr              r1, [r0], #4
  141 000000CC 6802            ldr              r2, [r0]
  142 000000CE EB01 0002       add              r0, r1, r2
  143 000000D2 E009            b                dx_store
  144 000000D4 F04C 0C02 
                       higher  orr              r12, r12, #0x02 ; 
  145 000000D8 481C            ldr              r0, =Q      ; 
  146 000000DA F100 0008       add              r0, r0, #8
  147 000000DE F850 1B04       ldr              r1, [r0], #4
  148 000000E2 6802            ldr              r2, [r0]
  149 000000E4 EB01 0002       add              r0, r1, r2
  150 000000E8 4B1C    dx_store
                               ldr              r3, =QP_ADDR
  151 000000EA 6819            ldr              r1, [r3]    ; 
  152 000000EC EBA0 0101       sub              r1, r0, r1
  153 000000F0 F04F 5200       ldr              r2, =Dx
  154 000000F4 F842 100B       str              r1, [r2, r11]
  155 000000F8 4A19            ldr              r2, =Ym     ; 
  156 000000FA 6812            ldr              r2, [r2]
  157 000000FC 4291            cmp              r1, r2
  158 000000FE DD00            ble              no_max
  159 00000100 6011            str              r1, [r2]
  160 00000102 F10B 0B04 
                       no_max  add              r11, r11, #4



ARM Macro Assembler    Page 4 


  161 00000106 6018            str              r0, [r3]    ; 
  162 00000108 480D    no_del  ldr              r0, =Cx
  163 0000010A 4582            cmp              r10, r0     ; 
  164 0000010C DA02            bge              right
  165 0000010E F00C 0CFE       and              r12, r12, #0xfe ; 
  166 00000112 E001            b                dy_store
  167 00000114 F04C 0C01 
                       right   orr              r12, r12, #0x01 ; 
  168 00000118 4912    dy_store
                               ldr              r1, =Dy
  169 0000011A F851 000A       ldr              r0, [r1, r10] ; 
  170 0000011E F100 0001       add              r0, r0, #1
  171 00000122 F841 000A       str              r0, [r1, r10]
  172 00000126 4909            ldr              r1, =Q
  173 00000128 F851 000C       ldr              r0, [r1, r12] ; 
  174 0000012C F100 0001       add              r0, r0, #1
  175 00000130 F841 000C       str              r0, [r1, r12]
  176 00000134         
  177 00000134 4806            ldr              r0, =Ce     ; 
  178 00000136 6800            ldr              r0, [r0]
  179 00000138 4580            cmp              r8, r0
  180 0000013A DBB7            blt              read_loop
  181 0000013C 4770            bx               lr
  182 0000013E                 endp
  183 0000013E                 end
              00 00 20000E2C 
              2000042C 
              20000288 
              20000410 
              20000428 
              20000420 
              20000284 
              20000424 
              2000028C 
              20000280 
Command Line: --debug --xref --cpreproc --diag_suppress=9931 --cpu=Cortex-M4.fp
 --apcs=interwork --depend=rho_mod_v1\rho.d -orho_mod_v1\rho.o -I.\RTE\_rho_mod
_v1 -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\5.3.0\CMSIS\Include -IC:\Keil_v5\ARM\PACK\K
eil\STM32L4xx_DFP\2.0.0\Drivers\CMSIS\Device\ST\STM32L4xx\Include --predefine="
__EVAL SETA 1" --predefine="__MICROLIB SETA 1" --predefine="__UVISION_VERSION S
ETA 524" --predefine="_RTE_ SETA 1" --predefine="STM32L432xx SETA 1" --list=rho
.lst ..\Src\rho.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

asm_test 0000002C

Symbol: asm_test
   Definitions
      At line 67 in file ..\\Src\\rho.s
   Uses
      At line 68 in file ..\\Src\\rho.s
Comment: asm_test used once
dx_store 000000E8

Symbol: dx_store
   Definitions
      At line 150 in file ..\\Src\\rho.s
   Uses
      At line 143 in file ..\\Src\\rho.s
Comment: dx_store used once
dy_store 00000118

Symbol: dy_store
   Definitions
      At line 168 in file ..\\Src\\rho.s
   Uses
      At line 166 in file ..\\Src\\rho.s
Comment: dy_store used once
frame_end 00000050

Symbol: frame_end
   Definitions
      At line 82 in file ..\\Src\\rho.s
   Uses
      At line 83 in file ..\\Src\\rho.s
Comment: frame_end used once
frame_start 00000004

Symbol: frame_start
   Definitions
      At line 48 in file ..\\Src\\rho.s
   Uses
      At line 49 in file ..\\Src\\rho.s
Comment: frame_start used once
higher 000000D4

Symbol: higher
   Definitions
      At line 144 in file ..\\Src\\rho.s
   Uses
      At line 137 in file ..\\Src\\rho.s
Comment: higher used once
no_del 00000108

Symbol: no_del
   Definitions
      At line 162 in file ..\\Src\\rho.s
   Uses
      At line 134 in file ..\\Src\\rho.s
Comment: no_del used once
no_max 00000102

Symbol: no_max



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 160 in file ..\\Src\\rho.s
   Uses
      At line 158 in file ..\\Src\\rho.s
Comment: no_max used once
pclk_int 00000094

Symbol: pclk_int
   Definitions
      At line 116 in file ..\\Src\\rho.s
   Uses
      At line 117 in file ..\\Src\\rho.s
Comment: pclk_int used once
read_loop 000000AC

Symbol: read_loop
   Definitions
      At line 129 in file ..\\Src\\rho.s
   Uses
      At line 130 in file ..\\Src\\rho.s
      At line 180 in file ..\\Src\\rho.s

rg_row 00000086

Symbol: rg_row
   Definitions
      At line 109 in file ..\\Src\\rho.s
   Uses
      At line 106 in file ..\\Src\\rho.s
Comment: rg_row used once
rho 00000000

Symbol: rho
   Definitions
      At line 22 in file ..\\Src\\rho.s
   Uses
      None
Comment: rho unused
rho_init 00000000

Symbol: rho_init
   Definitions
      At line 42 in file ..\\Src\\rho.s
   Uses
      At line 43 in file ..\\Src\\rho.s
Comment: rho_init used once
rho_process 000000A4

Symbol: rho_process
   Definitions
      At line 125 in file ..\\Src\\rho.s
   Uses
      At line 62 in file ..\\Src\\rho.s
      At line 126 in file ..\\Src\\rho.s

right 00000114

Symbol: right
   Definitions



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

      At line 167 in file ..\\Src\\rho.s
   Uses
      At line 164 in file ..\\Src\\rho.s
Comment: right used once
row_int 00000070

Symbol: row_int
   Definitions
      At line 100 in file ..\\Src\\rho.s
   Uses
      At line 101 in file ..\\Src\\rho.s
Comment: row_int used once
x_reset 0000008A

Symbol: x_reset
   Definitions
      At line 110 in file ..\\Src\\rho.s
   Uses
      At line 108 in file ..\\Src\\rho.s
Comment: x_reset used once
zero 0000000E

Symbol: zero
   Definitions
      At line 54 in file ..\\Src\\rho.s
   Uses
      At line 56 in file ..\\Src\\rho.s
Comment: zero used once
18 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

CAMERA_PORT 0000000A

Symbol: CAMERA_PORT
   Definitions
      At line 26 in file ..\\Src\\rho.s
   Uses
      None
Comment: CAMERA_PORT unused
Ce 20000428

Symbol: Ce
   Definitions
      At line 33 in file ..\\Src\\rho.s
   Uses
      At line 34 in file ..\\Src\\rho.s
      At line 84 in file ..\\Src\\rho.s
      At line 177 in file ..\\Src\\rho.s

Cf 2000042C

Symbol: Cf
   Definitions
      At line 34 in file ..\\Src\\rho.s
   Uses
      At line 35 in file ..\\Src\\rho.s
      At line 57 in file ..\\Src\\rho.s
      At line 58 in file ..\\Src\\rho.s

Cm 20000E2C

Symbol: Cm
   Definitions
      At line 35 in file ..\\Src\\rho.s
   Uses
      At line 36 in file ..\\Src\\rho.s
      At line 53 in file ..\\Src\\rho.s

Cx 20000E2C

Symbol: Cx
   Definitions
      At line 36 in file ..\\Src\\rho.s
   Uses
      At line 162 in file ..\\Src\\rho.s
Comment: Cx used once
Cy 20000284

Symbol: Cy
   Definitions
      At line 37 in file ..\\Src\\rho.s
   Uses
      At line 38 in file ..\\Src\\rho.s
      At line 135 in file ..\\Src\\rho.s

Dx 20000000

Symbol: Dx
   Definitions
      At line 28 in file ..\\Src\\rho.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 29 in file ..\\Src\\rho.s
      At line 51 in file ..\\Src\\rho.s
      At line 153 in file ..\\Src\\rho.s

Dy 20000280

Symbol: Dy
   Definitions
      At line 29 in file ..\\Src\\rho.s
   Uses
      At line 30 in file ..\\Src\\rho.s
      At line 37 in file ..\\Src\\rho.s
      At line 168 in file ..\\Src\\rho.s

Q 20000410

Symbol: Q
   Definitions
      At line 30 in file ..\\Src\\rho.s
   Uses
      At line 31 in file ..\\Src\\rho.s
      At line 69 in file ..\\Src\\rho.s
      At line 86 in file ..\\Src\\rho.s
      At line 139 in file ..\\Src\\rho.s
      At line 145 in file ..\\Src\\rho.s
      At line 172 in file ..\\Src\\rho.s

QP_ADDR 20000424

Symbol: QP_ADDR
   Definitions
      At line 32 in file ..\\Src\\rho.s
   Uses
      At line 33 in file ..\\Src\\rho.s
      At line 150 in file ..\\Src\\rho.s

QT 20000420

Symbol: QT
   Definitions
      At line 31 in file ..\\Src\\rho.s
   Uses
      At line 32 in file ..\\Src\\rho.s
      At line 94 in file ..\\Src\\rho.s

THRESH_ADDR 20000288

Symbol: THRESH_ADDR
   Definitions
      At line 38 in file ..\\Src\\rho.s
   Uses
      At line 39 in file ..\\Src\\rho.s
      At line 59 in file ..\\Src\\rho.s

Ym 2000028C

Symbol: Ym
   Definitions



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      At line 39 in file ..\\Src\\rho.s
   Uses
      At line 155 in file ..\\Src\\rho.s
Comment: Ym used once
sram 20000000

Symbol: sram
   Definitions
      At line 27 in file ..\\Src\\rho.s
   Uses
      At line 28 in file ..\\Src\\rho.s
Comment: sram used once
14 symbols
370 symbols in table
